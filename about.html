<!DOCTYPE html>
<html lang="en">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
  />
  <link
    href="https://fonts.googleapis.com/css2?family=Bungee+Hairline&display=swap"
    rel="stylesheet"
  />
  <head>
    <meta charset="UTF-8" />
    <title>Timeline Slider with Popups</title>
    <style>
      body {
        font-family: sans-serif;
        background: #18182c;
        background: radial-gradient(
          circle,
          rgb(65, 21, 147) 5%,
          rgb(17, 15, 24) 100%
        );
        color: #fff;
      }
      canvas {
        position: fixed; /* stays in place */
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: -1; /* push it behind HTML content */
      }
      .timeline-wrapper {
        margin-top: 29rem;
        margin-left: 10rem;
        position: relative;
        width: 1150px;
        /* margin: 60px auto 0 auto; */
        user-select: none;
      }
      .timeline-bar {
        position: relative;
        width: 100%;
        height: 4px;
        background: #fee9e92a;
        top: 30px;
        border-radius: 2px;
        margin-bottom: 60px;
      }
      .dot {
        position: absolute;
        top: 22px;
        width: 20px;
        height: 20px;
        background: #8cd5fc;
        border-radius: 50%;
        border: 4px solid #ffffff83;
        transform: translateX(-50%);
        cursor: pointer;
        z-index: 2;
        box-shadow: 0 7px 16px rgb(255, 255, 255);
      }
      .dot.active {
        background: #ffffff;
        border-color: #fff;
        box-shadow: 0 4px 30px rgb(255, 255, 255);
      }
      .popup {
        position: absolute;
        top: -300px;
        left: 50%;
        height: 15rem;
        width: 15rem;
        transform: translateX(-50%);
        color: #1f114b;
        font-family: 'Bungee Hairline', sans-serif;
        font-size: 15px;
        font-weight: 700;
        text-align: start;
        padding: 20px;
        border-radius: 12px;
        border: rgba(212, 212, 212, 0.233) 2px solid;
        box-shadow: 0 4px 16px rgba(21, 21, 21, 0.763);
        transition: all 0.7s cubic-bezier(0.15, 0.75, 0.5, 1.2);
        background: linear-gradient(135deg, #554fc776 50%, #09013066);
        backdrop-filter: blur(10px); /* blur whatever is behind */
        -webkit-backdrop-filter: blur(10px); /* for Safari */
        white-space: nowrap;
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.2s;
        z-index: 10;
      }
      .popup.active {
        opacity: 1;
        pointer-events: all;
      }
      .dragger {
        position: absolute;
        top: 17px;
        left: 0;
        width: 28px;
        height: 28px;
        background: #ffffff27;
        border-radius: 50%;
        border: 4px solid #fff;
        box-shadow: 0 2px 8px #0002;
        transform: translateX(-50%);
        cursor: grab;
        z-index: 5;
        transition: box-shadow 0.2s;
      }
      .dragger.dragging {
        box-shadow: 0 0 16px #ffffff5f;
      }
      .expTime {
        font-family: 'Bungee Hairline', sans-serif;
        font-size: 3rem;
        color: rgba(255, 255, 255, 0.634);
        font-weight: 700;
        text-align: center;
        background-color: #20878b27;
        border: #cccccc57 2px solid;
        border-radius: 999px;
        width: 40rem;
      }
      .scrolldown {
        font-size: 15px;
        font-weight: 600;
        font-family: 'Bungee Hairline';
        color: rgba(145, 246, 189, 0.864);
      }
      .cont1 {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 4rem;
      }
      .aboutMe {
        margin-top: 10rem;
        padding: 3rem;
        display: flex;
        flex-direction: row;
        align-items: center;
        justify-content: center;
        gap: 2rem;
      }
      .twomajor {
        display: flex;
        flex-direction: row;
        align-items: center;
        justify-content: center;
        gap: 2rem;
      }
      .firstMaj {
        background: linear-gradient(135deg, #38348acd 60%, #8dfb1141);
        box-shadow: 0 5px 8px rgba(0, 0, 0, 0.625);
        border-radius: 25px;
        border: 2px solid rgba(164, 164, 164, 0.485);
        padding: 2rem;
        font-family: 'Bungee Hairline';
      }
      .secondMaj {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 2rem;
        font-family: 'Bungee Hairline';
        font-weight: 1000;
      }
      .secondMaj > div {
        background: linear-gradient(135deg, #38348acd 750%, #fb8a1141);
        box-shadow: 0 5px 8px rgba(0, 0, 0, 0.625);
        border-radius: 25px;
        border: 2px solid rgba(164, 164, 164, 0.326);
        padding: 1.5rem;
      }
      .para11 {
        font-weight: 600;
        font-size: 20px;
        margin: 0;
        padding: 0;
      }
      .second2 {
        background: linear-gradient(135deg, #3068d6cd 75%, #fdab54a2);
        box-shadow: 0 5px 8px rgba(0, 0, 0, 0.625);
      }
      .para12 {
        font-weight: 600;
        font-size: 20px;
        text-decoration: underline;
        text-underline-offset: 1rem;
        text-decoration-thickness: 0.5px;
        color: white;
      }
      .para {
        font-weight: 800;
        font-size: 15px;
      }
      .contact-section {
        width: 90%;
        max-width: 600px;
        margin: 50px auto;
        padding: 40px;
        border-radius: 20px;
        background: transparent; /* semi-transparent */
        backdrop-filter: blur(15px); /* glass effect */
        -webkit-backdrop-filter: blur(15px);
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
        color: #fff;
        text-align: center;
        font-family: 'Bungee Hairline', sans-serif;
      }

      .contact-section h2 {
        margin-bottom: 30px;
        font-size: 32px;
        color: #fff;
        text-shadow: 0 0 10px rgba(158, 129, 211, 0.8);
      }

      #contact-form {
        display: flex;
        flex-direction: column;
        gap: 20px;
      }

      #contact-form input,
      #contact-form textarea {
        padding: 15px;
        border: none;
        border-radius: 10px;
        background: rgba(255, 255, 255, 0.2);
        color: #fff;
        font-size: 16px;
        outline: none;
        backdrop-filter: blur(10px);
        transition: 0.3s, box-shadow 0.3s;
      }

      #contact-form input::placeholder,
      #contact-form textarea::placeholder {
        color: rgba(255, 255, 255, 0.7);
      }

      #contact-form input:focus,
      #contact-form textarea:focus {
        background: rgba(255, 255, 255, 0.3);
        box-shadow: 0 0 10px rgba(158, 129, 211, 0.8);
      }

      #contact-form button {
        padding: 15px;
        border: none;
        border-radius: 10px;
        background: linear-gradient(45deg, #f5dcffb9, #8d44adaa);
        color: #fff;
        font-size: 18px;
        font-weight: bold;
        cursor: pointer;
        transition: transform 0.2s, box-shadow 0.2s;
      }

      #contact-form button:hover {
        box-shadow: 0 2px 15px rgba(203, 203, 203, 0.6);
      }
    </style>
  </head>
  <body>
    <div class="cont1">
      <div class="expTime">Experience Timeline</div>
      <div class="scrolldown">scroll down</div>
    </div>
    <div class="timeline-wrapper">
      <div class="timeline-bar"></div>
      <!-- Dots will be injected here by JS -->
      <div id="dragger" class="dragger"></div>
    </div>
    <div class="aboutMe">
      <div class="twomajor">
        <div class="firstMaj">
          <h1 style="font-size: 40px; font-weight: 800">
            ðŸ‘‹ HI I'm Disha Dora
          </h1>
          <p class="para11">
            An aspiring Software Engineer with a mind full of blooms.
          </p>
          <p class="para12">
            I have been a learner at heart and have curated my ideas into
            reality through Tech.
          </p>
          <p class="para">
            <br />I specialize in building scalable web applications using
            React, Node.js,<br />
            TypeScript, and modern development technologies. I thrive on turning
            complex<br />problems into elegant solutions that users love.<br />Beyond
            work, I love exploring emerging technologies, contributing to
            open-source<br />
            projects, and mentoring aspiring developers. I believe in continuous
            learning and<br />staying at the forefront of technological
            innovation.
          </p>
        </div>
        <div class="secondMaj">
          <div class="second1">
            <span style="font-size: 28px; font-weight: 900"
              ><i class="fa-solid fa-graduation-cap"></i><br />Currently<br />
              student at<br
            /></span>
            GITAM DEEMED TO BE<br />
            UNIVERSITY<br />
            2022-2026
          </div>
          <div class="second2">
            <span style="font-size: 28px; font-weight: 900"
              ><i class="fa-solid fa-code-fork"></i><br />INTERN<br
            /></span>
            at ODISOFT Technology<br />June'25 - August'25
          </div>
        </div>
      </div>
    </div>
    <section id="contact" class="contact-section">
      <h2>Let's Work together</h2>
      <form id="contact-form">
        <input type="text" name="name" placeholder="Your Name" required />
        <input type="email" name="email" placeholder="Your Email" required />
        <textarea
          name="message"
          placeholder="Your Message"
          rows="5"
          required
        ></textarea>
        <button type="submit">Send Message</button>
      </form>
    </section>
    <p
      style="
        font-weight: 100;
        color: rgba(255, 255, 255, 0.536);
        text-align: center;
      "
    >
      &copy; 2025 Disha Dora. All rights reserved.
    </p>
    <!-- Popups will be injected here by JS -->

    <script>
      let scene, camera, renderer;
      let particles, sphereParticles, faceParticles, torus;
      let zoomedIn = false;

      function initScene() {
        scene = new THREE.Scene();
        camera = new THREE.PerspectiveCamera(
          75,
          window.innerWidth / window.innerHeight,
          0.1,
          1000
        );
        camera.position.z = 5;

        renderer = new THREE.WebGLRenderer({ alpha: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.body.appendChild(renderer.domElement);

        createBackgroundParticles();
        createSphereParticles();
        createTexturedSphere();
        createBlurredMovingDots();
        createRings();
        animate();
      }

      function createBlurredMovingDots() {
        const count = 300;
        const positions = new Float32Array(count * 3);
        const colors = [];

        for (let i = 0; i < count * 3; i += 3) {
          positions[i] = (Math.random() - 0.5) * 20;
          positions[i + 1] = (Math.random() - 0.5) * 10;
          positions[i + 2] = (Math.random() - 0.5) * 20;

          // Randomly assign pink or blue
          const color =
            Math.random() > 0.5
              ? new THREE.Color(0xff69b4)
              : new THREE.Color(0x87cefa);
          colors.push(color.r, color.g, color.b);
        }

        const geometry = new THREE.BufferGeometry();
        geometry.setAttribute(
          'position',
          new THREE.BufferAttribute(positions, 3)
        );
        geometry.setAttribute(
          'color',
          new THREE.BufferAttribute(new Float32Array(colors), 3)
        );

        const material = new THREE.PointsMaterial({
          size: 0.1,
          vertexColors: true,
          transparent: true,
          opacity: 0.4,
          blending: THREE.AdditiveBlending,
        });

        const points = new THREE.Points(geometry, material);
        scene.add(points);

        // Animate blur points too
        function animateDots() {
          requestAnimationFrame(animateDots);
          points.rotation.y += 0.0008;
        }

        animateDots();
      }

      function createBackgroundParticles() {
        const numParticles = 5000;
        const positions = new Float32Array(numParticles * 3);
        for (let i = 0; i < numParticles * 3; i += 3) {
          positions[i] = (Math.random() - 0.5) * 10;
          positions[i + 1] = (Math.random() - 0.5) * 0.5;
          positions[i + 2] = (Math.random() - 0.5) * 10;
        }

        const geometry = new THREE.BufferGeometry();
        geometry.setAttribute(
          'position',
          new THREE.BufferAttribute(positions, 3)
        );
        const material = new THREE.PointsMaterial({
          size: 0.007,
          color: 0xffd700,
          transparent: true,
          depthWrite: false,
          blending: THREE.AdditiveBlending,
        });
        particles = new THREE.Points(geometry, material);
        scene.add(particles);
      }

      function createTexturedSphere() {
        const textureLoader = new THREE.TextureLoader();
        const texture = textureLoader.load('blueplanet.jpeg'); // Replace with your image path

        const geometry = new THREE.SphereGeometry(1, 32, 32); // Sphere radius 0.5, adjust as needed
        const material = new THREE.MeshStandardMaterial({
          map: texture,
          roughness: 0.5,
          metalness: 0.1,
        });

        const sphere = new THREE.Mesh(geometry, material);
        sphere.position.set(0, 0, 0); // Center the sphere
        scene.add(sphere);
        const light = new THREE.PointLight(0xffffff, 1, 100);
        light.position.set(5, 5, 5);
        scene.add(light);
      }

      function createSphereParticles() {
        const numParticles = 400;
        const positions = new Float32Array(numParticles * 3);
        const radius = 1.2;
        for (let i = 0; i < numParticles * 3; i += 3) {
          let r = Math.cbrt(Math.random()) * radius;
          let theta = Math.random() * Math.PI * 2;
          let phi = Math.acos(2 * Math.random() - 1);
          positions[i] = r * Math.sin(phi) * Math.cos(theta);
          positions[i + 1] = r * Math.sin(phi) * Math.sin(theta);
          positions[i + 2] = r * Math.cos(phi);
        }
        const geometry = new THREE.BufferGeometry();
        geometry.setAttribute(
          'position',
          new THREE.BufferAttribute(positions, 3)
        );
        const material = new THREE.PointsMaterial({
          size: 0.005,
          color: 0xffffff,
          transparent: true,
        });
        sphereParticles = new THREE.Points(geometry, material);
        scene.add(sphereParticles);
      }
      function createRings() {
        const torusGeometry = new THREE.TorusGeometry(8.75, 0.01, 8, 100);
        const torusMaterial = new THREE.MeshStandardMaterial({
          color: 0x0e0e2e,
          metalness: 0.8,
          roughness: 0.15,
          emissive: 0xfffffed8,
          transparent: true, // allow the material to be transparent
          opacity: 0.4,
        });
        torus = new THREE.Mesh(torusGeometry, torusMaterial);
        torus.rotation.z = Math.PI / 4;
        torus.position.set(0, 0, 0);
        // Optional: for a "tilted" look
        // torus.rotation.x = Math.PI / 3; // 60 degrees
        // torus.rotation.z = Math.PI / 8;

        // Add to scene
        const torusGeometry1 = new THREE.TorusGeometry(7.75, 0.01, 8, 100);
        const torusMaterial1 = new THREE.MeshStandardMaterial({
          color: 0x0e0e2e,
          metalness: 0.8,
          roughness: 0.15,
          emissive: 0xfffffed8,
          transparent: true, // allow the material to be transparent
          opacity: 0.4,
        });
        torus1 = new THREE.Mesh(torusGeometry, torusMaterial);
        torus1.rotation.z = Math.PI / 4;
        torus1.rotation.x = Math.PI / 4;
        torus1.rotation.y = Math.PI / 4;
        torus1.position.set(0, 0, 0);
        scene.add(torus);
        scene.add(torus1);
        console.log('Torus created:', torus);
      }

      function animate() {
        requestAnimationFrame(animate);
        if (!zoomedIn) {
          particles.rotation.y += 0.001;
          sphereParticles.rotation.y += 0.01;
          if (torus) {
            torus.rotation.y += 0.0025;
            torus.rotation.x += 0.0025;
            torus.rotation.z += 0.0025;
          }
          if (torus1) {
            torus1.rotation.y += 0.0025;
            torus1.rotation.x += 0.0025;
            torus1.rotation.z += 0.0025;
          }
        }
        renderer.render(scene, camera);
      }

      initScene();
      // === CONFIGURATION ===
      const dotLabels = [
        {
          heading: 'DEC 2024 -<br/>Volunteered At TCD',
          paragraph:
            'actively contributed my<br/>time and skills to support<br/>a community initiative.<br/> One highlight was hosting<br/>an upskilling session,<br/>where I guided<br/>participants to enhance<br/.>their technical and<br/>professional skills.',
        },
        {
          heading: 'JAN 2025 -<br/>CodeHer Hackathon',
          paragraph:
            'the team build a website<br/>to enhance the project<br/>viewing and interactivity<br/>with industry profess-<br/>ionals and help students/<br/>job-seekers to get placed.<br/>Users where they can rate<br/>a project and give<br/>feedback.',
        },
        {
          heading: 'MAY 2025 -<br/>CodeCircuit Hackathon',
          paragraph:
            'Interactive itinerary<br/>sboard with drag-to-<br/>reorder day plans Web App<br/>built using React + Vite to<br/>provide travel planning<br/>experience curated<br/>your way',
        },
        {
          heading: 'MAY 2025-<br/>Internship',
          paragraph:
            'Built a frontend of a<br/>website featuring<br/>dynamic visuals and<br/>interactivity<br/>using React + Vite',
        },
        {
          heading: 'AUG 2025-<br/>Personal Portfolio',
          paragraph:
            'My personal portfolio <br/>is designed to showcase<br/>my skills, projects, and <br/>achievements in an<br/>interactive and visually<br/>engaging way. It features<br/>navigation with sections<br/>like About Me, Projects,<br/>Skills and Contact.',
        },
      ];
      // === END CONFIG ===

      const wrapper = document.querySelector('.timeline-wrapper');
      const timelineBar = wrapper.querySelector('.timeline-bar');
      const dragger = wrapper.querySelector('#dragger');
      const timelineWidth = timelineBar.offsetWidth;

      // Set up dots and popups
      const numDots = dotLabels.length;
      const dots = [],
        popups = [];
      for (let i = 0; i < numDots; i++) {
        const dot = document.createElement('div');
        dot.className = 'dot';
        const percent = i / (numDots - 1);
        dot.style.left = `${percent * 100}%`;
        dot.dataset.idx = i;
        wrapper.appendChild(dot);
        dots.push(dot);

        const popup = document.createElement('div');
        popup.className = 'popup';
        popup.innerHTML = `<div style="font-weight:1000;font-size:1.2rem; color:white;">${dotLabels[i].heading}</div>
                   <div style="font-size:1rem;font-weight:800;margin-top:5px; color:white;">${dotLabels[i].paragraph}</div>`;
        dot.appendChild(popup);
        popups.push(popup);
      }

      // Initial dragger position: first dot
      function getDotX(idx) {
        const percent = idx / (numDots - 1);
        return percent * timelineWidth;
      }
      let draggerX = getDotX(0);
      let dragging = false;

      function setDraggerPosition(x, animate = false) {
        // Clamp to bar
        x = Math.max(0, Math.min(x, timelineWidth));
        dragger.style.left = x + 'px';
        draggerX = x;
        updateActiveDot();
      }

      function getNearestDotIdx(x) {
        let minDist = Infinity,
          nearest = 0;
        for (let i = 0; i < dots.length; i++) {
          const dotX = getDotX(i);
          if (Math.abs(dotX - x) < minDist) {
            minDist = Math.abs(dotX - x);
            nearest = i;
          }
        }
        return nearest;
      }

      let lastActiveIdx = -1;
      function updateActiveDot() {
        const idx = getNearestDotIdx(draggerX);
        // Remove previous active
        dots.forEach((d, i) => {
          d.classList.toggle('active', i === idx);
          popups[i].classList.toggle('active', i === idx);
        });
        lastActiveIdx = idx;
      }

      // Initial placement
      setDraggerPosition(getDotX(0));

      // Dragging logic
      dragger.addEventListener('pointerdown', function (e) {
        dragging = true;
        dragger.classList.add('dragging');
        document.body.style.cursor = 'grabbing';
      });
      document.addEventListener('pointermove', function (e) {
        if (!dragging) return;
        // Position within bar
        const rect = timelineBar.getBoundingClientRect();
        let x = e.clientX - rect.left;
        setDraggerPosition(x);
      });
      document.addEventListener('pointerup', function (e) {
        if (dragging) {
          dragging = false;
          dragger.classList.remove('dragging');
          document.body.style.cursor = '';
          // Optionally snap to dot
          const idx = getNearestDotIdx(draggerX);
          setDraggerPosition(getDotX(idx));
        }
      });

      // Optional: clicking on dots moves dragger
      dots.forEach((dot, idx) => {
        dot.addEventListener('click', () => {
          setDraggerPosition(getDotX(idx));
        });
      });
    </script>
  </body>
</html>
